# 全國偏鄉醫事人力需求平台 - 專案文檔總覽

## 📚 文檔導航

本專案已根據OpenAPI規範完整撰寫技術文檔，以下是各文檔的用途和閱讀順序：

### 1️⃣ README.md - 專案入門指南
**閱讀對象**: 所有人  
**內容概要**:
- 專案簡介與核心功能
- 技術堆疊選擇
- 快速開始指南
- 專案結構說明
- 開發路線圖

**📖 推薦首先閱讀此文件以了解專案全貌**

---

### 2️⃣ medical-support-api.yaml - OpenAPI規格文檔
**閱讀對象**: 後端開發者、前端開發者  
**內容概要**:
- 完整的RESTful API定義
- 所有端點（Endpoints）說明
- 請求/響應格式
- 資料模型（Schemas）
- 認證授權機制
- 錯誤處理規範

**主要API模組**:
- 🔐 認證模組 (Authentication)
- 👨‍⚕️ 醫事人員管理 (Professionals)
- 🏥 職缺管理 (Job Postings)
- 📝 申請管理 (Applications)
- ⚙️ 系統參數 (System Parameters)

**使用方式**:
1. 在Swagger Editor中打開此檔案查看API文檔
2. 使用工具（如Postman）導入此檔案進行API測試
3. 使用代碼生成工具自動生成API客戶端

```bash
# 使用Swagger Editor查看
docker run -p 8080:8080 -e SWAGGER_JSON=/api.yaml -v $(pwd):/api swaggerapi/swagger-editor
# 訪問 http://localhost:8080
```

---

### 3️⃣ system-architecture.md - 系統架構設計
**閱讀對象**: 架構師、技術主管、全端開發者  
**內容概要**:
- 整體系統架構圖
- 技術選型與理由
- 前端、後端、資料庫技術堆疊
- 部署架構設計
- 安全性設計
- 效能優化策略
- 監控與維運方案
- 成本估算
- 風險管理

**關鍵決策**:
- ✅ 前端: React Native + Expo (跨平台)
- ✅ 後端: Node.js + NestJS (TypeScript)
- ✅ 資料庫: PostgreSQL (主庫) + Redis (快取)
- ✅ 部署: Kubernetes容器化部署

---

### 4️⃣ database-design.md - 資料庫設計文檔
**閱讀對象**: 後端開發者、DBA  
**內容概要**:
- 完整的資料表結構設計
- 欄位定義與約束
- 索引設計
- 外鍵關係
- ER圖（實體關係圖）
- SQL建表腳本
- 初始資料範例

**核心資料表**:
- 👤 users (用戶表)
- 👨‍⚕️ professional_profiles (醫事人員檔案)
- 🏥 hospitals (醫院表)
- 💼 job_postings (職缺表)
- 📋 applications (申請表)
- 🔔 notifications (通知表)
- ⚙️ system_parameters (系統參數)

**特色**:
- 使用UUID作為主鍵
- JSONB欄位支援彈性資料
- 完整的索引策略
- 軟刪除機制
- 審計日誌追蹤

---

### 5️⃣ frontend-specs.md - 前端技術規範
**閱讀對象**: 前端開發者、UI/UX設計師  
**內容概要**:
- React Native開發規範
- 專案目錄結構
- 編碼規範與命名慣例
- 狀態管理架構 (Redux Toolkit)
- 導航系統設計
- API服務層實現
- 表單處理方案
- 主題系統
- 測試策略
- 效能優化技巧

**技術亮點**:
- TypeScript全面覆蓋
- Redux Toolkit + RTK Query
- React Hook Form表單處理
- 模組化組件設計
- 完整的類型定義

---

## 🎯 快速開始流程

### 對於專案經理/產品經理
1. 閱讀 **README.md** 了解專案目標和功能
2. 查看 **system-architecture.md** 中的開發時程規劃
3. 檢閱成本估算和風險管理章節

### 對於後端開發者
1. 閱讀 **README.md** 了解專案結構
2. 詳細研究 **medical-support-api.yaml** 熟悉API設計
3. 參考 **database-design.md** 建立資料庫
4. 依照 **system-architecture.md** 建置後端服務

### 對於前端開發者
1. 閱讀 **README.md** 了解專案架構
2. 查看 **medical-support-api.yaml** 了解API介面
3. 遵循 **frontend-specs.md** 開發React Native APP
4. 參考 **system-architecture.md** 了解整體設計

### 對於DevOps工程師
1. 閱讀 **README.md** 了解專案概況
2. 研究 **system-architecture.md** 的部署架構章節
3. 設置CI/CD流程
4. 配置監控和日誌系統

---

## 📋 技術規格總覽

### 系統規模
- **用戶類型**: 3種（醫事人員、醫院管理員、系統管理員）
- **核心功能**: 5大模組
- **API端點**: 30+ 個
- **資料表**: 10+ 張
- **預估用戶**: 初期1000+，未來擴展至10,000+

### 技術堆疊

#### 前端 (Mobile)
```
React Native 0.72+
├── TypeScript 5.0+
├── Expo SDK 49+
├── Redux Toolkit (狀態管理)
├── React Navigation 6 (路由)
├── React Native Paper (UI組件)
└── Axios (HTTP客戶端)
```

#### 後端 (API)
```
Node.js 18 LTS+
├── NestJS / Express.js
├── TypeScript
├── Passport.js (認證)
├── JWT (Token管理)
├── TypeORM (ORM)
└── Winston (日誌)
```

#### 資料層
```
PostgreSQL 14+
├── 主資料庫（關聯式資料）
├── JSONB欄位（彈性資料）
└── 完整索引策略

Redis 7+
├── Session管理
├── API快取
└── 即時計數
```

### 安全措施
- ✅ HTTPS加密傳輸
- ✅ JWT認證 + Refresh Token
- ✅ 密碼bcrypt加密
- ✅ API請求限流
- ✅ SQL注入防護
- ✅ XSS/CSRF防護
- ✅ 完整審計日誌

---

## 🚀 實施建議

### Phase 1: 基礎建設 (Week 1-2)
- [ ] 設置開發環境
- [ ] 建立Git儲存庫
- [ ] 配置CI/CD
- [ ] 建立PostgreSQL資料庫
- [ ] 設置Redis
- [ ] 配置環境變數

### Phase 2: 後端開發 (Week 3-6)
- [ ] 實現認證系統
- [ ] 開發用戶管理模組
- [ ] 開發職缺管理模組
- [ ] 開發申請流程
- [ ] 建立通知服務
- [ ] 撰寫API測試

### Phase 3: 前端開發 (Week 4-8)
- [ ] 建立專案架構
- [ ] 實現認證流程
- [ ] 開發職缺瀏覽功能
- [ ] 開發申請功能
- [ ] 實現推播通知
- [ ] UI/UX優化

### Phase 4: 整合測試 (Week 9)
- [ ] 整合前後端
- [ ] E2E測試
- [ ] 效能測試
- [ ] 安全測試
- [ ] Bug修復

### Phase 5: 上線準備 (Week 10)
- [ ] 部署到測試環境
- [ ] 用戶驗收測試
- [ ] 文檔完善
- [ ] 培訓材料準備
- [ ] 正式上線

---

## 📊 API端點速查表

### 認證相關
| 方法 | 端點 | 說明 |
|------|------|------|
| POST | /auth/register | 用戶註冊 |
| POST | /auth/login | 用戶登入 |
| POST | /auth/refresh | 刷新令牌 |
| POST | /auth/logout | 用戶登出 |

### 醫事人員
| 方法 | 端點 | 說明 |
|------|------|------|
| GET | /professionals/profile | 取得個人檔案 |
| PUT | /professionals/profile | 更新個人檔案 |
| POST | /professionals/availability | 設定可支援時段 |

### 職缺管理
| 方法 | 端點 | 說明 |
|------|------|------|
| GET | /jobs | 搜尋職缺列表 |
| POST | /jobs | 發布新職缺 |
| GET | /jobs/{jobId} | 取得職缺詳情 |
| PUT | /jobs/{jobId} | 更新職缺 |
| DELETE | /jobs/{jobId} | 刪除職缺 |
| POST | /jobs/{jobId}/close | 關閉職缺 |

### 申請管理
| 方法 | 端點 | 說明 |
|------|------|------|
| GET | /applications | 取得申請列表 |
| POST | /applications | 申請職缺 |
| GET | /applications/{id} | 取得申請詳情 |
| DELETE | /applications/{id} | 取消申請 |
| POST | /applications/{id}/review | 審核申請 |

完整API文檔請參考: **medical-support-api.yaml**

---

## 🗂️ 資料庫表格速查

### 核心表格
| 表格名稱 | 說明 | 主要欄位 |
|---------|------|----------|
| users | 系統用戶 | id, email, user_type, name |
| professional_profiles | 醫事人員檔案 | id, user_id, professional_type, specialties |
| hospitals | 醫院資訊 | id, name, county, township |
| hospital_admins | 醫院管理員關聯 | id, user_id, hospital_id |
| job_postings | 職缺資訊 | id, hospital_id, professional_type, service_dates |
| applications | 申請記錄 | id, job_id, professional_id, status |
| notifications | 系統通知 | id, user_id, type, message |
| system_parameters | 系統參數 | id, category, key, value |

---

## 💡 開發最佳實踐

### 程式碼品質
- ✅ 使用TypeScript確保類型安全
- ✅ 遵循ESLint規範
- ✅ 使用Prettier統一格式
- ✅ 編寫有意義的註解
- ✅ 單元測試覆蓋率>80%

### Git工作流
- ✅ 使用Git Flow分支策略
- ✅ 遵循Conventional Commits
- ✅ 每個PR需要Code Review
- ✅ 所有測試必須通過
- ✅ 更新相關文檔

### API設計原則
- ✅ RESTful設計
- ✅ 使用HTTP狀態碼
- ✅ 統一錯誤響應格式
- ✅ API版本控制
- ✅ 詳細的錯誤訊息

---

## 🔗 相關資源

### 線上工具
- [Swagger Editor](https://editor.swagger.io/) - 查看OpenAPI文檔
- [DB Diagram](https://dbdiagram.io/) - 視覺化資料庫設計
- [Excalidraw](https://excalidraw.com/) - 繪製架構圖

### 學習資源
- [React Native官方文檔](https://reactnative.dev/)
- [NestJS官方文檔](https://nestjs.com/)
- [PostgreSQL官方文檔](https://www.postgresql.org/docs/)
- [OpenAPI規範](https://swagger.io/specification/)

### 社群資源
- [React Native Community](https://github.com/react-native-community)
- [Awesome React Native](https://github.com/jondot/awesome-react-native)
- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)

---

## 📞 支援與聯絡

### 技術支援
- 📧 Email: dev@medical-platform.tw
- 💬 Slack: #medical-support-dev
- 🐛 Issue Tracker: GitHub Issues

### 文檔問題
如果您在閱讀文檔時遇到問題或發現錯誤，請：
1. 建立GitHub Issue
2. 標記為`documentation`標籤
3. 提供具體的問題描述和建議

---

## ✅ 文檔檢查清單

使用此清單確保您已完整了解專案：

### 專案理解
- [ ] 了解專案目標和核心功能
- [ ] 清楚用戶角色和使用場景
- [ ] 了解技術架構選擇原因

### API開發
- [ ] 熟悉所有API端點
- [ ] 理解認證授權機制
- [ ] 了解錯誤處理規範
- [ ] 知道如何測試API

### 資料庫
- [ ] 了解所有資料表結構
- [ ] 理解表格之間的關係
- [ ] 知道如何建立資料庫
- [ ] 了解索引策略

### 前端開發
- [ ] 熟悉專案目錄結構
- [ ] 了解狀態管理架構
- [ ] 知道如何處理API請求
- [ ] 理解導航系統

### 部署運維
- [ ] 了解部署架構
- [ ] 知道如何設置環境
- [ ] 理解監控策略
- [ ] 熟悉備份方案

---

## 🎓 結語

本專案文檔完全遵循OpenAPI規範，提供了從系統架構到實施細節的完整指引。所有技術決策都基於最佳實踐和實際需求。

**核心優勢**:
1. ✨ **完整的API規格** - 使用OpenAPI 3.0標準
2. 🏗️ **清晰的架構設計** - 易於理解和擴展
3. 💾 **專業的資料庫設計** - 高效且可維護
4. 📱 **現代化的前端技術** - 跨平台解決方案
5. 🔒 **全面的安全考量** - 保護用戶資料

祝您開發順利！🚀

---

**文檔版本**: v1.0.0  
**最後更新**: 2024年12月  
**維護者**: 開發團隊
